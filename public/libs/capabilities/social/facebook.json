{
  "platform": "facebook",
  "display_name": "Facebook",
  "description": "Post to your Facebook Page or personal timeline",
  "auth_type": "oauth",
  "tier_required": "free",

  "docs": {
    "setup_guide": "https://developers.facebook.com/docs/pages-api/get-started",
    "api_reference": "https://developers.facebook.com/docs/graph-api/reference/page/feed",
    "permissions": "https://developers.facebook.com/docs/permissions/reference"
  },

  "setup_instructions": [
    "You'll be redirected to Facebook to authorize 3K Pro Services",
    "Sign in with your Facebook account",
    "Select the Facebook Page you want to manage",
    "Grant the requested permissions to enable posting",
    "You'll be redirected back to complete the setup"
  ],

  "requirements": {
    "account_type": "Facebook Page required for posting",
    "note": "Personal timeline posting has limited API access. We recommend using a Facebook Page."
  },

  "oauth": {
    "auth_url": "https://www.facebook.com/v21.0/dialog/oauth",
    "token_url": "https://graph.facebook.com/v21.0/oauth/access_token",
    "user_info_url": "https://graph.facebook.com/me?fields=id,name",
    "required_scopes": [
      "pages_manage_posts",
      "pages_read_engagement",
      "pages_show_list",
      "public_profile"
    ],
    "optional_scopes": [
      "pages_manage_metadata",
      "pages_read_user_content"
    ]
  },

  "capabilities": {
    "publish_text": {
      "name": "Publish Text Post",
      "description": "Post text content to Facebook Page",
      "endpoint": "https://graph.facebook.com/v21.0/{page-id}/feed",
      "method": "POST",
      "required_fields": ["message"],
      "optional_fields": ["link", "published"],
      "permissions": ["pages_manage_posts"],
      "limitations": {
        "message_max_length": 63206,
        "hashtag_limit": 30
      }
    },

    "publish_photo": {
      "name": "Publish Photo",
      "description": "Upload a photo to Facebook Page",
      "endpoint": "https://graph.facebook.com/v21.0/{page-id}/photos",
      "method": "POST",
      "required_fields": ["url"],
      "optional_fields": ["caption", "published"],
      "permissions": ["pages_manage_posts"],
      "limitations": {
        "image_formats": ["JPEG", "PNG", "GIF", "BMP"],
        "max_file_size": "10MB",
        "caption_max_length": 63206
      }
    },

    "publish_video": {
      "name": "Publish Video",
      "description": "Upload a video to Facebook Page",
      "endpoint": "https://graph.facebook.com/v21.0/{page-id}/videos",
      "method": "POST",
      "required_fields": ["file_url"],
      "optional_fields": ["description", "title", "published"],
      "permissions": ["pages_manage_posts"],
      "limitations": {
        "video_formats": ["MP4", "MOV", "AVI"],
        "max_file_size": "10GB",
        "max_duration_seconds": 14400,
        "min_duration_seconds": 1,
        "description_max_length": 63206,
        "title_max_length": 255
      }
    },

    "publish_link": {
      "name": "Share Link",
      "description": "Share a link with preview on Facebook Page",
      "endpoint": "https://graph.facebook.com/v21.0/{page-id}/feed",
      "method": "POST",
      "required_fields": ["link"],
      "optional_fields": ["message"],
      "permissions": ["pages_manage_posts"],
      "limitations": {
        "message_max_length": 63206
      }
    }
  },

  "publishing_flow": {
    "steps": [
      {
        "step": 1,
        "action": "Get Page Access Token",
        "description": "Exchange user token for Page access token"
      },
      {
        "step": 2,
        "action": "Prepare Content",
        "description": "Format message, media URLs, and metadata"
      },
      {
        "step": 3,
        "action": "Post to Feed",
        "description": "Publish content to Page feed"
      }
    ],
    "notes": [
      "Page access tokens required for posting",
      "Photos and videos can be uploaded from URL or as binary data",
      "Use 'published=false' to create unpublished drafts",
      "Video uploads may take time to process before appearing"
    ]
  },

  "error_codes": {
    "100": "Invalid parameter",
    "190": "Access token expired or invalid",
    "200": "Permission denied",
    "368": "Temporarily blocked from posting"
  },

  "rate_limits": {
    "posts_per_hour": 50,
    "api_calls_per_hour": 200,
    "note": "Rate limits apply per Page"
  },

  "testing": {
    "test_endpoint": "https://graph.facebook.com/me/accounts",
    "test_method": "GET",
    "test_params": {},
    "expected_response": {
      "data": [
        {
          "id": "123456789",
          "name": "My Page Name",
          "access_token": "page_access_token"
        }
      ]
    }
  },

  "ui_config": {
    "color": "#1877F2",
    "icon_url": "/images/platforms/facebook.svg",
    "connection_label_placeholder": "My Facebook Page",
    "username_display_prefix": ""
  }
}
